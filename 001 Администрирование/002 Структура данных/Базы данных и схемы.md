[Презентация](https://www.youtube.com/watch?v=UNdB2fvDdcw&list=PLaFqU3KCWw6LPcuYVymLcXl3muC45mu3e&index=9)
## Базы данных
#### template0
Используется при восстановлении, когда нужен гарантированный бесконфликтный импорт объектов сторонней базы в новую. 
Кроме того, создание базы с кодировкой, отличной от умолчания, возможно только с этой пустой базы.
#### template1
template1 = model. Здесь можно создавать объекты. которые будут автоматически клонироваться при создании каждой новой базы.
Расширения также клонируются.
#### postgres
Используется по умолчанию всеми сервисами для первичного соединения.

> При создании базы данных можно указать имя шаблона, с которого будут клонироваться все объекты.

## Схемы
Посмотреть схемы и таблички
```
\dn
\dt
```
перенести табличку в другую схему
```
ALTER TABLE t SET SHEMA app;
```
### Путь поиска
Определяется в search_path.
Реальное значение (с учетом исключаемых путей) - current_schemas.
По умолчанию объекты создаются в public.
Путь поиска начинается с pg_catalog, затем public.
Если мы создаем схему, соответствующую имени пользователя (логину ОС), то она становится первой по умолчанию перед pg_catalog и public.
### Установка
```
set search_path = public, app;
alter database db set search_path = public, app;
```
### Временные таблицы
Не логируются и не кэшируются в глобальном кэше. Но кэшируются в локальном.
> За кэширование в локальном кэше отвечает **temp_buffers**, который по сути аналогичен work_mem в глобальном кэше. Сильно большим ставить не рекомендуют, ибо касается только текущей сессии.

Создаются в специальных схемах **pg_temp_n**.
Обращение происходит по пути pg_temp.tmp_table.
> Для пути поиска добавляется в самое начало. Если происходит замещение по имени таблицы, находящейся в рабочей схеме, то мы ее больше не увидим в каталоге \dt.

Создание
```
create temp table t...
```
Время жизни можно установить до конца сеанса или до конца транзакции.
### Удаление
Можно удалить сразу со всеми включенными объектами (опция CASCADE).



