[Отвечает за порядок записи на диск](https://qna.habr.com/q/538906)   

**vm.dirty_background_bytes** - сколько байт можно занять под dirty pages до того, как эта память начнем автоматически синхронизироваться на диск.    
**vm.dirty_bytes** - сколько всего байт можно занять под dirty pages.   

Dirty page позволяет нам "сгладить" небольший всплекс на запись, за счет того, что данные, которые нужно записать на диск будут временно храниться в памяти.    
Причем именно кратковременный всплекс, потому что на долговременном всплекске вы забиваете всю память, отведенную под dirty page и после этого скорость записи падает до скорости работы диска.   

Увеличивая размер vm.dirty_bytes вы с одной стороны увеличиваете размер пика, который получиться сгладить, с другой увеличиваете объем ОЗУ которое займете под этот пик и время, которое понадобиться на то, что бы разгрести эту ОЗУ.    

По дефолту в centos7 выставленны значения ***vm.dirty_background_ratio = 10 и vm.dirty_ratio = 30*** (то есть 30% от всей доступной памяти можно занять под dirty page, запускать синхронизацию если зянято более 10%), ***vm.dirty_expire_centisecs = 3000*** (сбрасывать на диск данные, которые находяться в dirty page больше 30 секунд вне зависимости от того, сколько в данный размер занято под dirty page) и ***vm.dirty_writeback_centisecs = 500*** (синхронизатор должен просыпаться каждые 5 секунд для обработки данных, подподающих под vm.dirty_expire_centisecs).
На ubuntu (16.04 и 18.04) vm.dirty_ratio = 20, все остальные параметры точно такие-же как у centos.   

Логика тут очень простая: под dirty page память не резервируется. Если она нужна и есть свободная память - она используется (максимум 30% или 20% от всей доступной). Причем доступная память, это не "всего установленно", это именно available память в выводе "free".   

То есть мы получаем "некую автоматическую балансировку" системы по данному параметру в зависимости от "Total RAM - Used RAM", чем доступной памяти больше, тем больше может быть dirty page. Мой опыт говорит что на моих нагрузках большинство серверов чувствуют себя отлично со значениями по умолчанию.
